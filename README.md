# API сервер на TypeScript и Express

Этот проект представляет собой RESTful API сервер, разработанный с использованием TypeScript, Express и Prisma. В проекте реализована система аутентификации и авторизации пользователей с использованием JWT-токенов.

## Основные технологии

- **TypeScript** - язык программирования
- **Express** - веб-фреймворк для Node.js
- **Prisma** - ORM для работы с базой данных
- **InversifyJS** - фреймворк для инъекции зависимостей
- **JWT** - для реализации аутентификации

## Архитектура проекта

Проект построен с учетом принципов SOLID и использует инверсию управления (IoC):

- **Controllers** - обработка HTTP-запросов
- **Services** - бизнес-логика
- **Repositories** - работа с данными
- **Middlewares** - промежуточные обработчики (валидация, авторизация)
- **Error handling** - централизованная обработка ошибок

## Основные функциональные возможности

- Регистрация пользователей
- Аутентификация пользователей (вход в систему)
- Защищенные маршруты, требующие авторизации
- Получение информации о профиле пользователя

## Установка и запуск

### Предварительные требования

- Node.js (рекомендуется версия 14.x или выше)
- npm или yarn
- База данных (PostgreSQL, MySQL или SQLite)

### Установка зависимостей

```bash
npm install
```

### Настройка окружения

1. Создайте файл `.env` в корне проекта:

```
DATABASE_URL="postgresql://username:password@localhost:5432/dbname?schema=public"
SALT=10
JWT_SECRET=ваш_секретный_ключ
```

### Миграция базы данных

```bash
npx prisma migrate dev
```

### Запуск в режиме разработки

```bash
npm run dev
```

### Сборка и запуск в продакшн-режиме

```bash
npm run build
npm run start
```

## API Endpoints

### Аутентификация

- **POST /users/signup** - создание нового пользователя
    - Тело запроса: `{ "email": "user@example.com", "password": "password", "name": "User Name" }`

- **POST /users/login** - вход в систему
    - Тело запроса: `{ "email": "user@example.com", "password": "password" }`
    - Ответ: `{ "jwt": "token" }`

### Защищенные маршруты

- **GET /users/info** - получение информации о пользователе
    - Требуется заголовок `Authorization: Bearer {token}`
